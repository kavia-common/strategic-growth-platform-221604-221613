{"is_source_file": true, "format": "JavaScript", "description": "This file defines the UserOnboardingService class responsible for handling user onboarding operations such as finding or creating organizations, creating user profiles, and managing the onboarding flow within a backend service. It interacts with the database through Supabase client calls to 'organizations' and 'profiles' tables.", "external_files": ["../utils/supabase"], "external_methods": ["supabaseAdmin.from", "supabaseAdmin.select", "supabaseAdmin.insert", "supabaseAdmin.ilike", "supabaseAdmin.eq"], "published": ["new UserOnboardingService()"], "classes": [{"name": "UserOnboardingService", "description": "Service class providing methods for user onboarding workflows including organization and profile creation, as well as onboarding status checks."}], "methods": [{"name": "findOrCreateOrganization(orgName)", "description": "Finds an existing organization by name or creates a new one if none is found.", "scope": "UserOnboardingService", "scopeKind": "class"}, {"name": "createProfile(userId, orgId, fullName = null)", "description": "Creates a user profile linked to a specified organization.", "scope": "UserOnboardingService", "scopeKind": "class"}, {"name": "onboardUser(userId, metadata = {})", "description": "Handles the complete onboarding process for a user, including organization and profile creation.", "scope": "UserOnboardingService", "scopeKind": "class"}, {"name": "isUserOnboarded(userId)", "description": "Checks whether a user has completed onboarding by verifying the existence of their profile.", "scope": "UserOnboardingService", "scopeKind": "class"}], "calls": ["supabaseAdmin.from", "supabaseAdmin.select", "supabaseAdmin.insert", "supabaseAdmin.ilike", "supabaseAdmin.eq"], "search-terms": ["UserOnboardingService", "findOrCreateOrganization", "createProfile", "onboardUser", "isUserOnboarded", "supabaseAdmin", "profiles", "organizations"], "state": 2, "file_id": 45, "knowledge_revision": 125, "git_revision": "", "ctags": [{"_type": "tag", "name": "UserOnboardingService", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221613/sge_backend/src/services/userOnboardingService.js", "pattern": "/^class UserOnboardingService {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "createProfile", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221613/sge_backend/src/services/userOnboardingService.js", "pattern": "/^  async createProfile(userId, orgId, fullName = null) {$/", "language": "JavaScript", "kind": "method", "signature": "(userId, orgId, fullName = null)", "scope": "UserOnboardingService", "scopeKind": "class"}, {"_type": "tag", "name": "exports", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221613/sge_backend/src/services/userOnboardingService.js", "pattern": "/^module.exports = new UserOnboardingService();$/", "language": "JavaScript", "kind": "variable", "scope": "module", "scopeKind": "class"}, {"_type": "tag", "name": "findOrCreateOrganization", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221613/sge_backend/src/services/userOnboardingService.js", "pattern": "/^  async findOrCreateOrganization(orgName) {$/", "language": "JavaScript", "kind": "method", "signature": "(orgName)", "scope": "UserOnboardingService", "scopeKind": "class"}, {"_type": "tag", "name": "isUserOnboarded", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221613/sge_backend/src/services/userOnboardingService.js", "pattern": "/^  async isUserOnboarded(userId) {$/", "language": "JavaScript", "kind": "method", "signature": "(userId)", "scope": "UserOnboardingService", "scopeKind": "class"}, {"_type": "tag", "name": "onboardUser", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221613/sge_backend/src/services/userOnboardingService.js", "pattern": "/^  async onboardUser(userId, metadata = {}) {$/", "language": "JavaScript", "kind": "method", "signature": "(userId, metadata = {})", "scope": "UserOnboardingService", "scopeKind": "class"}], "hash": "9980f4d7aadd449d57e2efef74b87d7c", "format-version": 4, "code-base-name": "sge_backend", "filename": "sge_backend/src/services/userOnboardingService.js", "fields": [{"name": "module.exports = new UserOnboardingService();", "scope": "module", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"125": ""}]}