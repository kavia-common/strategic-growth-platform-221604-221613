{"is_source_file": true, "format": "JavaScript", "description": "This file defines an Express controller class 'OnboardingController' responsible for handling user onboarding operations, including completing onboarding, checking for existing onboarding status, and responding with organization and profile data. It contains detailed documentation and one main method 'completeOnboarding' that processes onboarding requests.", "external_files": ["../services/userOnboardingService", "../utils/supabase"], "external_methods": ["userOnboardingService.isUserOnboarded", "userOnboardingService.onboardUser", "supabaseAdmin.from('profiles').select()", "supabaseAdmin.from('organizations').select()"], "published": ["new OnboardingController()"], "classes": [{"name": "OnboardingController", "description": "Controller class handling user onboarding API operations."}], "methods": [{"name": "completeOnboarding", "description": "Handles the onboarding process for a user, checks if user is already onboarded, and creates or fetches onboarding data accordingly."}], "calls": ["userOnboardingService.isUserOnboarded", "userOnboardingService.onboardUser", "supabaseAdmin.from('profiles').select('id, org_id, role, full_name').eq('id', userId).single()", "supabaseAdmin.from('organizations').select('id, name').eq('id', profile.org_id).single()"], "search-terms": ["OnboardingController", "completeOnboarding", "userOnboardingService", "supabase", "idempotent onboarding", "organization_name handling", "profile fetching", "Express.js onboarding"], "state": 2, "file_id": 58, "knowledge_revision": 181, "git_revision": "0edeb191e3b5636812d71603f03ff1b051ce5a2b", "revision_history": [{"155": ""}, {"169": "543d3ff2f261820b144771642358184b7ba95251"}, {"170": "543d3ff2f261820b144771642358184b7ba95251"}, {"171": "543d3ff2f261820b144771642358184b7ba95251"}, {"181": "0edeb191e3b5636812d71603f03ff1b051ce5a2b"}], "ctags": [{"_type": "tag", "name": "OnboardingController", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221613/sge_backend/src/controllers/onboardingController.js", "pattern": "/^class OnboardingController {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "asyncHandler", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221613/sge_backend/src/controllers/onboardingController.js", "pattern": "/^const asyncHandler = require('express-async-handler');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "completeOnboarding", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221613/sge_backend/src/controllers/onboardingController.js", "pattern": "/^  completeOnboarding = asyncHandler(async (req, res) => {$/", "language": "JavaScript", "kind": "field", "scope": "OnboardingController", "scopeKind": "class"}, {"_type": "tag", "name": "exports", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221613/sge_backend/src/controllers/onboardingController.js", "pattern": "/^module.exports = new OnboardingController();$/", "language": "JavaScript", "kind": "variable", "scope": "module", "scopeKind": "class"}, {"_type": "tag", "name": "userOnboardingService", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221613/sge_backend/src/controllers/onboardingController.js", "pattern": "/^const userOnboardingService = require('..\\/services\\/userOnboardingService');$/", "language": "JavaScript", "kind": "constant"}], "hash": "ab39e5dbb1ea7a07affbb5e040274d42", "format-version": 4, "code-base-name": "sge_backend", "filename": "sge_backend/src/controllers/onboardingController.js", "fields": [{"name": "completeOnboarding = asyncHandler(async (req, res) => {", "scope": "OnboardingController", "scopeKind": "class", "description": "unavailable"}, {"name": "module.exports = new OnboardingController();", "scope": "module", "scopeKind": "class", "description": "unavailable"}]}