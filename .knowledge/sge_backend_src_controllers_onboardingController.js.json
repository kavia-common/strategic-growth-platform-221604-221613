{"is_source_file": true, "format": "JavaScript", "description": "This file defines the OnboardingController class which handles user onboarding operations, including creating or fetching organizations and profiles, with detailed logging, Swagger annotations, and integration with external services (supabase and userOnboardingService).", "external_files": ["../services/userOnboardingService", "../utils/supabase"], "external_methods": ["userOnboardingService.isUserOnboarded", "userOnboardingService.onboardUser", "supabaseAdmin.from('profiles').select", "supabaseAdmin.from('organizations').select"], "published": ["OnboardingController"], "classes": [{"name": "OnboardingController", "description": "Controller class handling user onboarding API endpoint logic, including validation, idempotency checks, and integration with database and services."}], "methods": [{"name": "completeOnboarding", "description": "Handles the HTTP POST request to complete user onboarding by either fetching existing data or creating new organization and profile entries, with comprehensive validation, logging, and error handling."}], "calls": ["userOnboardingService.isUserOnboarded", "userOnboardingService.onboardUser", "supabaseAdmin.from('profiles').select", "supabaseAdmin.from('organizations').select"], "search-terms": ["onboarding", "completeOnboarding", "express-async-handler", "supabaseAdmin", "userOnboardingService", "organization_name"], "state": 2, "file_id": 58, "knowledge_revision": 171, "git_revision": "543d3ff2f261820b144771642358184b7ba95251", "revision_history": [{"155": ""}, {"169": "543d3ff2f261820b144771642358184b7ba95251"}, {"170": "543d3ff2f261820b144771642358184b7ba95251"}, {"171": "543d3ff2f261820b144771642358184b7ba95251"}], "ctags": [{"_type": "tag", "name": "OnboardingController", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221613/sge_backend/src/controllers/onboardingController.js", "pattern": "/^class OnboardingController {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "asyncHandler", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221613/sge_backend/src/controllers/onboardingController.js", "pattern": "/^const asyncHandler = require('express-async-handler');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "completeOnboarding", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221613/sge_backend/src/controllers/onboardingController.js", "pattern": "/^  completeOnboarding = asyncHandler(async (req, res) => {$/", "language": "JavaScript", "kind": "field", "scope": "OnboardingController", "scopeKind": "class"}, {"_type": "tag", "name": "exports", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221613/sge_backend/src/controllers/onboardingController.js", "pattern": "/^module.exports = new OnboardingController();$/", "language": "JavaScript", "kind": "variable", "scope": "module", "scopeKind": "class"}, {"_type": "tag", "name": "userOnboardingService", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221613/sge_backend/src/controllers/onboardingController.js", "pattern": "/^const userOnboardingService = require('..\\/services\\/userOnboardingService');$/", "language": "JavaScript", "kind": "constant"}], "hash": "94e05a613f4347920f64ea7c5ab96fb8", "format-version": 4, "code-base-name": "sge_backend", "filename": "sge_backend/src/controllers/onboardingController.js", "fields": [{"name": "completeOnboarding = asyncHandler(async (req, res) => {", "scope": "OnboardingController", "scopeKind": "class", "description": "unavailable"}, {"name": "module.exports = new OnboardingController();", "scope": "module", "scopeKind": "class", "description": "unavailable"}]}