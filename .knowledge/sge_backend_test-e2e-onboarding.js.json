{"is_source_file": true, "format": "JavaScript", "description": "This file contains an end-to-end test script for onboarding endpoint. It creates a test user, authenticates, tests onboarding flow, verifies database entries, tests idempotency, and performs cleanup.", "external_files": ["./src/utils/supabase"], "external_methods": ["supabase.auth.signUp", "supabase.auth.signInWithPassword", "supabaseAdmin.auth.admin.generateLink", "supabaseAdmin.auth.admin.createUser", "supabaseAdmin.auth.admin.deleteUser", "supabaseAdmin.from('organizations').select", "supabaseAdmin.from('profiles').select", "supabaseAdmin.from('profiles').delete", "supabaseAdmin.from('organizations').delete"], "published": [], "classes": [], "methods": [{"name": "runE2ETest()", "description": "Executes the end-to-end onboarding test, including user creation, onboarding API call, verification, and cleanup.", "scope": "", "scopeKind": ""}], "calls": ["require", "axios.post", "console.log", "supabase.auth.signUp", "supabase.auth.signInWithPassword", "supabaseAdmin.auth.admin.generateLink", "supabaseAdmin.auth.admin.createUser", "supabaseAdmin.auth.admin.deleteUser", "supabaseAdmin.from('organizations').select", "supabaseAdmin.from('profiles').select", "supabaseAdmin.from('profiles').delete", "supabaseAdmin.from('organizations').delete", "runE2ETest()"], "search-terms": ["end-to-end onboarding test", "supabase auth", "testing onboarding endpoint", "e2e test script", "test user creation", "onboarding API call", "jest", "axios", "database verification"], "state": 2, "file_id": 63, "knowledge_revision": 168, "git_revision": "", "ctags": [{"_type": "tag", "name": "BASE_URL", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221613/sge_backend/test-e2e-onboarding.js", "pattern": "/^const BASE_URL = process.env.BACKEND_URL || 'http:\\/\\/localhost:3001';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "TEST_EMAIL", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221613/sge_backend/test-e2e-onboarding.js", "pattern": "/^const TEST_EMAIL = `test-user-${Date.now()}@example.com`;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "TEST_ORG_NAME", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221613/sge_backend/test-e2e-onboarding.js", "pattern": "/^const TEST_ORG_NAME = `Test Organization ${Date.now()}`;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "TEST_PASSWORD", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221613/sge_backend/test-e2e-onboarding.js", "pattern": "/^const TEST_PASSWORD = 'TestPassword123!';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "axios", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221613/sge_backend/test-e2e-onboarding.js", "pattern": "/^const axios = require('axios');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "runE2ETest", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221613/sge_backend/test-e2e-onboarding.js", "pattern": "/^async function runE2ETest() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}], "hash": "4651cf693a3cacb8350c567d0d848922", "format-version": 4, "code-base-name": "sge_backend", "filename": "sge_backend/test-e2e-onboarding.js", "revision_history": [{"168": ""}]}