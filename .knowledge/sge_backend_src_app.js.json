{"is_source_file": true, "format": "JavaScript", "description": "This is the main application setup file for an Express.js server. It initializes middleware such as CORS, logging, health check endpoint, Swagger UI documentation, JSON parsing, and route mounting. It also includes error handling middleware.", "external_files": ["./routes", "../swagger"], "external_methods": ["require", "app.enable", "app.options", "app.use", "app.get", "console.log", "console.warn", "res.json", "req.get", "req.protocol", "req.socket.localPort", "swaggerUi.setup", "express.json", "module.exports"], "published": ["app"], "classes": [], "methods": [{"name": "app.get('/api/healthz')", "description": "Health check endpoint returning status of the app."}], "calls": ["require('cors')", "require('express')", "require('./routes')", "require('../swagger')", "app.enable('trust proxy')", "app.options('*', cors(corsOptions))", "app.use(cors(corsOptions))", "console.log(`[Request] ${req.method} ${req.url}`)", "console.warn(`[CORS] Blocked request from origin: ${origin}`)", "res.json({ status: 'ok', timestamp: new Date().toISOString() })", "swaggerUi.serve", "swaggerUi.setup(dynamicSpec)", "app.use(express.json())", "app.use('/', routes)", "console.error('[Error]', err.stack)", "res.status(500).json({status: 'error', message: 'Internal Server Error'})", "module.exports = app"], "search-terms": ["express", "cors", "swagger", "routes", "healthz", "trust proxy", "swagger-ui-express", "environment variables", "app.js"], "state": 2, "file_id": 11, "knowledge_revision": 93, "git_revision": "b88aad222ebb741f45f8f8630334d6ffcde033fe", "revision_history": [{"24": "04e8bb20561e6f7f9463e49c4630ef51a2cb6452"}, {"43": "04e8bb20561e6f7f9463e49c4630ef51a2cb6452"}, {"91": "b88aad222ebb741f45f8f8630334d6ffcde033fe"}, {"93": "b88aad222ebb741f45f8f8630334d6ffcde033fe"}], "ctags": [{"_type": "tag", "name": "allowedOrigins", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221613/sge_backend/src/app.js", "pattern": "/^const allowedOrigins = rawOrigins$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221613/sge_backend/src/app.js", "pattern": "/^const app = express();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "cors", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221613/sge_backend/src/app.js", "pattern": "/^const cors = require('cors');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "corsOptions", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221613/sge_backend/src/app.js", "pattern": "/^const corsOptions = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "express", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221613/sge_backend/src/app.js", "pattern": "/^const express = require('express');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "origin", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221613/sge_backend/src/app.js", "pattern": "/^  origin: (origin, callback) => {$/", "language": "JavaScript", "kind": "property", "scope": "corsOptions", "scopeKind": "class"}, {"_type": "tag", "name": "rawOrigins", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221613/sge_backend/src/app.js", "pattern": "/^const rawOrigins = process.env.API_ALLOWED_ORIGIN || process.env.CORS_ORIGIN || '';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "routes", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221613/sge_backend/src/app.js", "pattern": "/^const routes = require('.\\/routes');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "swaggerSpec", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221613/sge_backend/src/app.js", "pattern": "/^const swaggerSpec = require('..\\/swagger');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "swaggerUi", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221613/sge_backend/src/app.js", "pattern": "/^const swaggerUi = require('swagger-ui-express');$/", "language": "JavaScript", "kind": "constant"}], "hash": "02a8822b105809ba3b6ba548d637badc", "format-version": 4, "code-base-name": "sge_backend", "filename": "sge_backend/src/app.js", "fields": [{"name": "origin: (origin, callback) => {", "scope": "corsOptions", "scopeKind": "class", "description": "unavailable"}]}